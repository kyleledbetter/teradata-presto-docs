

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.12. EXPLAIN ANALYZE &mdash; Teradata Presto 0.144-SNAPSHOT Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/teradata.css" type="text/css" />
  

  

  
    <link rel="top" title="Teradata Presto 0.144-SNAPSHOT Documentation" href="../index.html"/>
        <link rel="up" title="7. SQL Statement Syntax" href="../sql.html"/>
        <link rel="next" title="7.13. INSERT" href="insert.html"/>
        <link rel="prev" title="7.11. EXPLAIN" href="explain.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Teradata Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.144-SNAPSHOT
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">3. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">4. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">5. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">6. SQL Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sql.html">7. SQL Statement Syntax</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="alter-table.html">7.1. ALTER TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="call.html">7.2. CALL</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit.html">7.3. COMMIT</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-table.html">7.4. CREATE TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-table-as.html">7.5. CREATE TABLE AS</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-view.html">7.6. CREATE VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="delete.html">7.7. DELETE</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe.html">7.8. DESCRIBE</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-table.html">7.9. DROP TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-view.html">7.10. DROP VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="explain.html">7.11. EXPLAIN</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.12. EXPLAIN ANALYZE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="insert.html">7.13. INSERT</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset-session.html">7.14. RESET SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="rollback.html">7.15. ROLLBACK</a></li>
<li class="toctree-l2"><a class="reference internal" href="select.html">7.16. SELECT</a></li>
<li class="toctree-l2"><a class="reference internal" href="set-session.html">7.17. SET SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-catalogs.html">7.18. SHOW CATALOGS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-columns.html">7.19. SHOW COLUMNS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-functions.html">7.20. SHOW FUNCTIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-partitions.html">7.21. SHOW PARTITIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-schemas.html">7.22. SHOW SCHEMAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-session.html">7.23. SHOW SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-tables.html">7.24. SHOW TABLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="start-transaction.html">7.25. START TRANSACTION</a></li>
<li class="toctree-l2"><a class="reference internal" href="use.html">7.26. USE</a></li>
<li class="toctree-l2"><a class="reference internal" href="values.html">7.27. VALUES</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">8. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">9. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">10. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Teradata Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../sql.html">7. SQL Statement Syntax</a> &raquo;</li>
      
    <li>7.12. EXPLAIN ANALYZE</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/sql/explain-analyze.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="explain-analyze">
<h1>7.12. EXPLAIN ANALYZE</h1>
<div class="section" id="synopsis">
<h2>Synopsis</h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>EXPLAIN ANALYZE statement
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description</h2>
<p>Execute the statement and show the distributed execution plan of the statement
along with the cost of each operation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The stats may not be entirely accurate, especially for queries that complete quickly.
Also, queries that have a <code class="docutils literal"><span class="pre">Project</span></code> or <code class="docutils literal"><span class="pre">Filter</span></code> above a <code class="docutils literal"><span class="pre">TableScan</span></code> are always
inaccurate at this time (the cost will be attributed to a single node).</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples</h2>
<p>In the example below, you can see the CPU time spent in each stage, as well as the relative
cost of each operator in the stage. Note that the relative cost of the operators is based on
wall time, which may or may not be correlated to CPU time.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>presto:sf1&gt; EXPLAIN ANALYZE SELECT count(*), clerk FROM orders GROUP BY clerk;

                                          Query Plan
-----------------------------------------------------------------------------------------------
Fragment 1 [HASH]
    Cost: CPU 111.00us, Input 1000 (37.11kB), Output 10 (160B)
    Output layout: [clerk, $hashvalue, count]
    Output partitioning: SINGLE []
    - Aggregate(FINAL)[clerk] =&gt; [clerk:varchar, $hashvalue:bigint, count:bigint]
            Cost: 0.00%, Output 0 (0B)
            count := &quot;count&quot;(&quot;count_8&quot;)
        - RemoteSource[2] =&gt; [clerk:varchar, $hashvalue:bigint, count_8:bigint]
                Cost: 100.00%, Output 1000 (37.11kB)

Fragment 2 [SOURCE]
    Cost: CPU 8.38s, Input 1500000 (41.49MB), Output 4000 (148.45kB)
    Output layout: [clerk, $hashvalue, count_8]
    Output partitioning: HASH [clerk]
    - Aggregate(PARTIAL)[clerk] =&gt; [clerk:varchar, $hashvalue:bigint, count_8:bigint]
            Cost: 7.45%, Output 4000 (148.45kB)
            count_8 := &quot;count&quot;(*)
        - Project =&gt; [clerk:varchar, $hashvalue:bigint]
                Cost: 92.55%, Output 1500000 (41.49MB)
                $hashvalue := &quot;combine_hash&quot;(0, COALESCE(&quot;$operator$hash_code&quot;(&quot;clerk&quot;), 0))
            - TableScan[tpch:tpch:orders:sf1.0, originalConstraint = true] =&gt; [clerk:varchar]
                    Cost: unknown, Output: unknown
                    clerk := tpch:clerk
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="insert.html" class="btn btn-neutral float-right" title="7.13. INSERT" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="explain.html" class="btn btn-neutral" title="7.11. EXPLAIN" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.144-SNAPSHOT',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>